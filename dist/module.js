/**
   * @license MIT
   * author: Roy Pearce <rhdp@roypearce.us> (github.com/roypearce)
   * rhdp.js v3.0.1
   * Released under the MIT license.
   */
import{useState as e,useRef as t,useEffect as a}from"react";var r;!function(e){e[e.Day=0]="Day",e[e.Month=1]="Month",e[e.Week=2]="Week",e[e.Year=3]="Year"}(r||(r={}));const n=class{date;constructor(e){if(this.date=e&&e instanceof Date?new Date(e):new Date,e&&!(e instanceof Date)){let t;"string"==typeof e&&10===e.length&&(t=e.split("-"),3===t.length&&(this.setFullDate(+t[0],+t[1],+t[2]),this.date.setHours(0,0,0,0),this.regenDate()))}}add=(e,t,a=!1)=>{switch(t){case r.Year:this.setYear(this.date.getFullYear()+e,a);break;case r.Month:this.setMonth(this.date.getMonth()+1+e,a);break;case r.Week:this.date.setDate(this.date.getDate()+7*e);break;case r.Day:this.date.setDate(this.date.getDate()+e)}return this.regenDate(),this};clone=()=>new n(this.date);endOfMonth=()=>(this.date.setFullYear(this.date.getFullYear(),this.date.getMonth()+1,0),this.regenDate(),this);endOfYear=()=>(this.date.setFullYear(this.date.getFullYear(),12,0),this.regenDate(),this);format=()=>{const e=this.date.getMonth()+1,t=this.date.getDate();return[this.date.getFullYear(),e<10?"0"+e:e,t<10?"0"+t:t].join("-")};getDate=()=>this.date.getDate();getDay=()=>this.date.getDay();getFullYear=()=>this.date.getFullYear();getMonth=()=>this.date.getMonth()+1;regenDate=()=>{this.date=new Date(this.date)};setDay=e=>(this.date.setDate(e),this.regenDate(),this);setFullDate=(e,t,a)=>(this.date.setFullYear.apply(this.date,[e,t-1,a]),this.regenDate(),this);setMonth=(e,t=!1)=>{let a;return t&&this.getDate()>28&&(a=this.clone().setFullDate(this.getFullYear(),e+1,0)),this.date.setMonth(e-1),this.regenDate(),t&&a&&this.getMonth()!==e&&(this.date=a.date),this};setYear=(e,t=!1)=>{let a;return t&&this.getDate()>28&&(a=this.clone().setFullDate(e,this.getMonth()+1,0)),this.date.setFullYear(e),this.regenDate(),t&&a&&this.getMonth()!==a.getMonth()&&(this.date=a.date),this};startOfMonth=()=>(this.date.setFullYear(this.getFullYear(),this.date.getMonth(),1),this.regenDate(),this);startOfYear=()=>(this.date.setFullYear(this.getFullYear(),0,1),this.regenDate(),this)};var o,s;!function(e){e[e.Down=0]="Down",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.Up=3]="Up"}(o||(o={})),function(e){e[e.Initial=0]="Initial",e[e.Programmatic=1]="Programmatic",e[e.User=2]="User"}(s||(s={}));const d=[[0,1,2,3,4,5,6],[0,-1,1,2,3,4,5],[0,-1,1,-2,2,3,4],[0,-1,1,-2,2,-3,3],[0,-1,1,-2,2,-3,-4],[0,-1,1,-2,-3,-4,-5],[0,-1,-2,-3,-4,-5,-6]],l=e=>e[0].toUpperCase()+e.slice(1),c=e=>Array.isArray(e)?e:e?[e]:[],i=(e,t,a)=>l(new Intl.DateTimeFormat(e,{weekday:a}).format(t)),u=(e,t)=>{const a=new n,o=a.getDay(),s=a.add(-1*(o-t),r.Day);return[h(e,s.date),h(e,s.add(1,r.Day).date),h(e,s.add(1,r.Day).date),h(e,s.add(1,r.Day).date),h(e,s.add(1,r.Day).date),h(e,s.add(1,r.Day).date),h(e,s.add(1,r.Day).date)]},h=(e,t)=>({long:i(e,t,"long"),narrow:i(e,t,"narrow"),short:i(e,t,"short")}),D=(e,t)=>l(new Intl.DateTimeFormat(t,{month:"long"}).format(e.date)),f=e=>e.getFullYear();let g=0;const y=e=>{try{if(!e)return!1;const[t,a,r]=e.match(/\d+/g)||["","",""],n=/^\d{4}-\d{2}-\d{2}$/u,o=new Date(`${m(a,2)}/${m(r,2)}/${t}`);return!isNaN(o.getTime())&&n.test(e)&&+a===o.getMonth()+1&&+r===o.getDate()&&+t===o.getFullYear()}catch(e){return!1}},m=(e,t)=>{const a=t-e.length;if(a<1)return e;for(let t=1;t<=a;t+=1)e=`0${e}`;return e},M=new n,p=({blockedDates:s=[],focusOnInit:l=!1,hasFocusTrap:i=!1,labels:h,locale:m="en-US",maxDate:p,minDate:b,mode:w="single",onChange:k,onClose:Y,selectDates:F,weekStart:v=0})=>{const[E,O]=e([[]]),[P,T]=e(!1),[x,S]=e(!1),[C,$]=e(!1),[B,I]=e(""),W=t({closeButton:"close",dateSelected:"date selected",disabled:"disabled",nextMonth:"next month",nextYear:"next year",previousMonth:"previous month",previousYear:"previous year",today:"today",...h}),R=t({blockedDatesMap:{},calendarDisplayMonth:M,calendarMonthEndDate:M.clone().endOfMonth().format(),calendarMonthStartDate:M.clone().startOfMonth().format(),dateClicked:"",displayDaysOfTheWeek:u(m,v),focusedDate:"",id:"",isInitialRender:!0,lastActiveElement:document.activeElement,lastFocusedDate:"",locale:m,newSelectedDate:"",newRemovedDate:"",newTimePeriod:"",now:M,oneYearAfterMinDate:"",oneYearAfterStartOfMonth:"",oneYearBeforeEndOfMonth:"",oneYearBeforeMaxDate:"",selectDates:[],selectedDates:[],selectedDatesMap:{},today:(new n).format(),weekStart:v});R.current.id||(R.current.id=function(e="rhdp-id-"){return`${e}${g+=1}`}());const[A,U]=e({displayMonth:D(M,m),displayYear:f(M),selectedDates:[""]}),L=()=>{R.current.oneYearBeforeEndOfMonth=new n(R.current.calendarMonthEndDate).add(-1,r.Year).format()},K=()=>{R.current.oneYearAfterStartOfMonth=new n(R.current.calendarMonthStartDate).add(1,r.Year).format()},N=()=>{let{blockedDatesMap:e,calendarDisplayMonth:t,calendarMonthEndDate:a,calendarMonthStartDate:r,dateClicked:o,displayDaysOfTheWeek:d,focusedDate:i,isInitialRender:h,lastFocusedDate:g,newSelectedDate:M,newRemovedDate:k,newTimePeriod:E,selectedDates:O,selectedDatesMap:P,today:T}=R.current,x=!1,S=!1,C=[],$=[...M&&[M],...O],B=!1,I=!1;switch(`${F}`!=`${R.current.selectDates}`&&(F?.length?(B=!0,I=!0,$=c(F)):$=[]),m===R.current.locale&&v===R.current.weekStart||(d=u(m,v)),e={},s&&c(s).forEach((t=>{e[t]=null})),(s||b||p||k||I)&&($=$.filter((t=>!!y(t)&&(!(b&&t<b)&&(!(p&&t>p)&&(t!==k&&!(t in e))))))),w){case"single":$.length>1&&($.length=1),1===$.length&&(C=[$[0]],S=!0);break;case"range":$.length>2&&M&&($=[M]),C=[...$],C.length>=2&&(C.length=2,S=!0);break;case"multiple":C.push(...$);break;default:"number"==typeof w&&(C.push(...$),C.length>=w&&(C.length=w,S=!0))}$.length||(B=!1),P={},C&&C.forEach((e=>{P[e]=null})),(h&&C.length||B||E)&&({calendarDisplayMonth:t,calendarMonthEndDate:a,calendarMonthStartDate:r}=(e=>{const t=new n(e).startOfMonth();return{calendarDisplayMonth:t,calendarMonthEndDate:t.clone().endOfMonth().format(),calendarMonthStartDate:t.format()}})(E||C[0])),h&&(g=C.length?C[0]:T,`${C}`!=`${F}`&&(x=!0),l&&setTimeout((()=>{document.getElementById(g)?.focus()}),0)),C.sort(),h||`${R.current.selectedDates}`!=`${C}`&&(x=!0),(M||k||x)&&X(C),i&&M&&E&&setTimeout((()=>{document.getElementById(i)?.focus()}),0),Y&&o&&S&&Y(),U({displayMonth:D(t,m),displayYear:f(t),selectedDates:C}),R.current={...R.current,blockedDatesMap:e,calendarDisplayMonth:t,calendarMonthEndDate:a,calendarMonthStartDate:r,dateClicked:"",displayDaysOfTheWeek:d,isInitialRender:!1,...h&&{lastFocusedDate:g},newSelectedDate:"",newRemovedDate:"",newTimePeriod:"",selectDates:F,selectedDates:C,selectedDatesMap:P}};a((()=>{const{focusedDate:e,lastFocusedDate:t}=R.current;P?t&&(R.current.focusedDate=t):(R.current.lastFocusedDate=e,R.current.focusedDate="")}),[P]),a((()=>{document.getElementById(R.current.focusedDate)?.focus()}),[R.current.focusedDate]),a((()=>(L(),K(),N(),()=>{R.current.lastActiveElement.focus?.()})),[]),a((()=>{N()}),[`${s}`,h,m,p,b,w,`${F}`,v]),a((()=>{R.current.oneYearBeforeMaxDate=p?new n(p).add(-1,r.Year).format():""}),[p]),a((()=>{R.current.oneYearAfterMinDate=b?new n(b).add(1,r.Year).format():""}),[b]),a(L,[R.current.calendarMonthStartDate]),a(K,[R.current.calendarMonthEndDate]),a((()=>{te()}),[A]);const H=(e,t)=>{V(new KeyboardEvent("keydown",{ctrlKey:e===r.Year,key:1===t?"PageDown":"PageUp"}))},j=(e,t,a=!1,s=!1)=>{let l=p?new n(p).add(1,r.Week).format():new n(e).add(6,r.Week).format(),c=b?new n(b).add(-1,r.Week).format():new n(e).add(-6,r.Week).format(),i="";if(R.current.selectedDates.forEach((e=>{e<c?c=e:e>l&&(l=e)})),a&&Z(e,c,l))return e;e<c?e=c:e>l&&(e=l);let u,h,D,f,g=new n(e),y=1,m=1;switch(t){case o.Left:y=-1;case o.Right:for(h=g.add(y,r.Day).format();h>c&&h<l&&(G(h)||J(h));)h=g.add(y,r.Day).format();if(Z(h,c,l))i=h;else if(s)return j(e,t===o.Left?o.Right:o.Left,a,!1);break;case o.Up:m=-1;case o.Down:for(g.add(m,r.Week),u=g.getDay(),D=d[u],h=g.format();!i&&h>=c&&h<=l;)f=D.find((e=>Z(g.clone().add(e,r.Day).format(),c,l))),"number"==typeof f&&(i=g.clone().add(f,r.Day).format()),g.add(m,r.Week),h=g.format()}return i},q=e=>{const t=e.format();x||!C?(R.current.focusedDate="",R.current.lastFocusedDate=t):R.current.focusedDate=t,R.current.newTimePeriod=t,N()},z=e=>R.current.focusedDate?e.formatted===R.current.focusedDate?0:-1:R.current.lastFocusedDate?e.formatted===R.current.lastFocusedDate?0:-1:e.formatted===R.current.today?0:-1,G=e=>e in R.current.blockedDatesMap,J=e=>!!(b&&e<b)||(!!(p&&e>p)||!(!ee()||e in R.current.selectedDatesMap)),Q=e=>e===B,V=e=>{if("Tab"===e.key&&!i||x&&"PageDown"!==e.key&&"PageUp"!==e.key)return;const{calendarMonthEndDate:t,calendarMonthStartDate:a,focusedDate:s,lastFocusedDate:d}=R.current;let l=x?d:s;(!l||l<a||l>t)&&(l=a);let c="";switch(e.key){case"ArrowLeft":c=j(l,o.Left);break;case"ArrowRight":c=j(l,o.Right);break;case"ArrowUp":c=j(l,o.Up);break;case"ArrowDown":c=j(l,o.Down);break;case"Home":c=j(new n(l).startOfMonth().format(),o.Right,!0);break;case"End":c=j(new n(l).endOfMonth().format(),o.Left,!0);break;case"PageUp":let t=r.Month;e.ctrlKey&&(t=r.Year),c=new n(l).add(-1,t,!0).format(),b&&c.substring(0,7)===b.substring(0,7)&&b>c&&(c=j(new n(l).add(-1,t,!0).format(),o.Left,!0,!0));break;case"PageDown":let a=r.Month;e.ctrlKey&&(a=r.Year),c=new n(l).add(1,a,!0).format(),p&&c.substring(0,7)===p.substring(0,7)&&p<c&&(c=j(new n(l).add(1,a,!0).format(),o.Right,!0,!0));break;case"Tab":const s=(u=document.getElementById(R.current.id),[...u?.querySelectorAll('a:not([disabled]):not([tabindex="-1"]), button:not([disabled]):not([tabindex="-1"]), input:not([disabled]):not([tabindex="-1"]), [tabindex]:not([disabled]):not([tabindex="-1"])')||[]]);if(s.length){const t=s.findIndex((e=>e===document.activeElement));0===t&&e.shiftKey?(e.preventDefault(),s[s.length-1].focus()):t!==s.length-1||e.shiftKey||(e.preventDefault(),s[0].focus())}break;case" ":case"Enter":return;case"Esc":case"Escape":return Y&&Y(),void e.preventDefault()}var u;return c&&(e.preventDefault(),b&&c<b||p&&c>p?c="":(c>t||c<a)&&(R.current.newTimePeriod=c,N())),c&&(x?R.current.lastFocusedDate=c:R.current.focusedDate=c,te()),!1},X=e=>{if(k){let t=e;"single"===w&&(t=e?.length?e[0]:""),k(t)}},Z=(e,t,a)=>e>=t&&e<=a&&!G(e)&&!J(e),_=e=>e.inRange||e.rangeStart||e.rangeEnd||e.selected,ee=()=>"number"==typeof w&&A.selectedDates.length>=w,te=()=>{const{calendarDisplayMonth:e}=R.current,t=(e=>{const t=e.getMonth(),a=[],n=e.clone().startOfMonth(),o=n.add(-1*(n.getDay()-v),r.Day);let s=0;for(;!(s>=4&&o.getMonth()!==t);){a.push([]);for(let e=0;e<=6;e+=1){const n=o.format();a[s].push({blocked:G(n),disabled:J(n),displayText:String(o.getDate()),formatted:n,hovered:Q(n),index:e,inMonth:o.getMonth()===t,inRange:"range"===w&&n>=A.selectedDates[0]&&n<=A.selectedDates[1],rangeEnd:"range"===w&&n===A.selectedDates[1],rangeStart:"range"===w&&n===A.selectedDates[0],selected:(d=o,d.format()in R.current.selectedDatesMap),today:R.current.today===n}),o.add(1,r.Day)}s+=1}var d;return a})(e);O(t)};return{calendar:E,displayDaysOfTheWeek:R.current.displayDaysOfTheWeek,displayMonth:A.displayMonth,displayYear:A.displayYear,focusedDate:R.current.focusedDate,getCalendarContainerProps:()=>({"aria-labelledby":`${R.current.id}-month-year-label`,onBlur:e=>{e.currentTarget?.contains(e.relatedTarget)||T(!1)},onFocus:()=>{T(!0),S(!1)},role:"grid"}),getCalendarDayContainerProps:()=>({role:"gridcell"}),getCalendarWeekContainerProps:()=>({role:"row"}),getDayOfTheWeekProps:e=>{const t=R.current.displayDaysOfTheWeek[e];return{abbr:t.long,"aria-label":t.long,id:`day-of-the-week-${e}`,role:"columnheader",scope:"col"}},getDaysOfTheWeekContainerProps:()=>({role:"row"}),getOnCloseButtonProps:()=>({"aria-label":W.current.closeButton,onClick:()=>{Y&&(T(!1),S(!1),$(!1),Y())},tabIndex:C?0:-1,title:W.current.closeButton,type:"button"}),getControlsContainerProps:()=>({onBlur:e=>{e.currentTarget?.contains(e.relatedTarget)||S(!1)},onFocus:()=>{S(!0)}}),getDatepickerContainerProps:()=>({"aria-activedescendant":R.current.focusedDate,id:R.current.id,onBlur:e=>{e.currentTarget?.contains(e.relatedTarget)||$(!1)},onFocus:()=>$(!0),onKeyDown:V}),getDayButtonProps:e=>{const{focusedDate:t,id:a,lastFocusedDate:r}=R.current,o=e.blocked||e.disabled;return{...o&&{"aria-disabled":!0},"aria-label":`${e.displayText} ${o?W.current.disabled:""} ${e.today?W.current.today:""} ${_(e)?W.current.dateSelected:""}`,"aria-describedby":`${a}-month-year-label`,"aria-pressed":_(e),...!(e.formatted===t||e.formatted===r)&&o&&{disabled:!0},id:e.formatted,key:e.formatted,onClick:()=>{e.blocked||e.disabled||(!e.selected||"multiple"!==w&&"number"!=typeof w?e.selected||(R.current.newSelectedDate=e.formatted):R.current.newRemovedDate=e.formatted,R.current.dateClicked=e.formatted,q(new n(e.formatted)))},onMouseOut:()=>{I("")},onMouseOver:()=>{I(e.formatted)},tabIndex:z(e),type:"button"}},getMonthYearContainerProps:()=>({"aria-atomic":"true","aria-live":"assertive",id:`${R.current.id}-month-year-label`}),getNextMonthButtonProps:()=>{const{calendarMonthEndDate:e,selectedDates:t}=R.current,{nextMonth:a}=W.current;return{"aria-label":a,disabled:p&&e>p||ee()&&t[t.length-1]<=e,onClick:()=>{H(r.Month,1)},tabIndex:C?0:-1,title:a,type:"button"}},getNextYearButtonProps:()=>{const{calendarMonthEndDate:e,oneYearBeforeMaxDate:t,oneYearAfterStartOfMonth:a,selectedDates:n}=R.current,{nextYear:o}=W.current;return{"aria-label":o,disabled:p&&e>t||ee()&&n[n.length-1]<a,onClick:()=>{H(r.Year,1)},tabIndex:C?0:-1,title:o,type:"button"}},getPreviousMonthButtonProps:()=>{const{calendarMonthStartDate:e,selectedDates:t}=R.current,{previousMonth:a}=W.current;return{"aria-label":a,disabled:b&&e<b||ee()&&t[0]>=e,onClick:()=>{H(r.Month,-1)},tabIndex:C?0:-1,title:a,type:"button"}},getPreviousYearButtonProps:()=>{const{calendarMonthStartDate:e,oneYearAfterMinDate:t,oneYearBeforeEndOfMonth:a,selectedDates:n}=R.current,{previousYear:o}=W.current;return{"aria-label":o,disabled:b&&e<t||ee()&&n[0]>a,onClick:()=>{H(r.Year,-1)},tabIndex:C?0:-1,title:o,type:"button"}},hoveredDate:B,id:R.current.id,selectedDates:A.selectedDates,setMonth:e=>{const t=new n(R.current.focusedDate||R.current.lastFocusedDate).setMonth(e,!0);q(t)},setYear:e=>{const t=new n(R.current.focusedDate||R.current.lastFocusedDate).setYear(e);q(t)},today:R.current.today}};export{n as ChainDate,s as RenderType,o as SearchDirection,r as TimePeriod,y as isDateValid,p as useDatepicker};
//# sourceMappingURL=module.js.map
